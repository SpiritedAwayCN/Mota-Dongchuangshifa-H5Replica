var data_a1e2fb4a_e986_4524_b0da_9b7ba7c0874d = 
{
	"main": {
		"floorIds": [
			"Scene0",
			"Scene1",
			"SecretPath",
			"Secret2",
			"NM_FEK0",
			"NM_FEX1",
			"NM_FEX2",
			"prison",
			"prison2",
			"Extra1",
			"TrapsTutorial",
			"boring",
			"lostWorld1",
			"lostWorld2",
			"lostWorld3",
			"Treasure1",
			"Treasure2",
			"Treasure3",
			"Treasure4",
			"LuckyGold1",
			"LuckyGold2",
			"LuckyGold3",
			"LuckyGold4",
			"LuckyGold5",
			"LuckyGold6",
			"TrapSwamp0",
			"TrapSwamp1",
			"TrapSwamp2",
			"TrapSwamp3",
			"SuperSpace1",
			"SuperSpace2",
			"MTCastle0",
			"MTCastle1",
			"MTCastle2",
			"MTCastle3",
			"MTCastle4",
			"MTCastle5",
			"MTWorld",
			"MTn90",
			"MTn89",
			"MTn88",
			"MTn87",
			"MTn86",
			"MTn85",
			"MTn84",
			"MTn83",
			"MTn82",
			"MTn81",
			"MTn80",
			"MTn79",
			"MTn78",
			"MTn77",
			"MTn76",
			"MTn75",
			"MTn74",
			"MTn73",
			"MTn72",
			"MTn71",
			"MTn70",
			"MTn69",
			"MTn68",
			"MTn67",
			"MTn66",
			"MTn65",
			"MTn64",
			"MTn63",
			"MTn62",
			"MTn61",
			"MTn60",
			"MTn59",
			"MTn58",
			"MTn57",
			"MTn56",
			"MTn55",
			"MTn54",
			"MTn53",
			"MTn52",
			"MTn51",
			"MTn50",
			"MTn49",
			"MTn48",
			"MTn47",
			"MTn46",
			"MTn45",
			"MTn44",
			"MTn43",
			"MTn42",
			"MTn41",
			"MTn40",
			"MTn39",
			"MTn38",
			"MTn37",
			"MTn36",
			"MTn35",
			"MTn34",
			"MTn33",
			"MTn32",
			"MTn31",
			"MTn30",
			"MTn29",
			"MTn28",
			"MTn27",
			"MTn26",
			"MTn25",
			"MTn24",
			"MTn23",
			"MTn22",
			"MTn21",
			"MTn20",
			"MTn19",
			"MTn18",
			"MTn17",
			"MTn16",
			"MTn15",
			"MTn14",
			"MTn13",
			"MTn12",
			"MTn11",
			"MTn10",
			"MTn9",
			"MTn8",
			"MTn7",
			"MTn6",
			"MTn5",
			"MTn4",
			"MTn3",
			"MTn2",
			"MTn1",
			"MT0",
			"MT1",
			"MT2",
			"MT3",
			"MT4",
			"MT5",
			"MT6",
			"MT7",
			"MT8",
			"MT9",
			"MT10",
			"MT11",
			"MT12",
			"MT13",
			"MT14",
			"MT15",
			"MT16",
			"MT17",
			"MT18",
			"MT19",
			"MT20",
			"MT21",
			"MT22",
			"MT23",
			"MT24",
			"MT25",
			"MT26",
			"MT27",
			"MT28",
			"MT29",
			"MT30",
			"MT31",
			"MT32",
			"MT33",
			"MT34",
			"MT35",
			"MT36",
			"MT37",
			"MT38",
			"MT39",
			"MT40",
			"MT41",
			"MT42",
			"MT43",
			"MT44",
			"MT45",
			"MT46",
			"MT47",
			"MT48",
			"MT49",
			"MT50",
			"MT51",
			"MT52",
			"MT53",
			"MT54",
			"MT55",
			"MT56",
			"MT57",
			"MT58",
			"MT59",
			"MT60",
			"MT61",
			"MT62",
			"MT63",
			"MT64",
			"MT65",
			"MT66",
			"MT67",
			"MT68",
			"MT69",
			"MT70",
			"MT71",
			"MT72",
			"MT73",
			"MT74",
			"MT75",
			"MT76",
			"MT77",
			"MT78",
			"MT79",
			"MT80",
			"MT81",
			"MT82",
			"MT83",
			"MT84",
			"MT85",
			"MT880"
		],
		"floorPartitions": [],
		"images": [
			"001-Sky01.jpg",
			"016-Braver06.png",
			"037-Mage05.png",
			"043-Queen01.png",
			"047-Monster17.png",
			"196-Support04.png",
			"F.png",
			"bear.png",
			"bg.jpg",
			"brave.png",
			"dragon.png",
			"dragonColor.png",
			"hero.png",
			"slmhero.png",
			"title.png",
			"winskin.png"
		],
		"tilesets": [
			"magictower.png",
			"magictower2.png",
			"032-Heaven01.png"
		],
		"animates": [
			"A01",
			"A02",
			"A03",
			"A04",
			"A05",
			"A06",
			"A07",
			"A08",
			"A09",
			"A10",
			"A11",
			"A12",
			"A13",
			"A14",
			"A15",
			"A16",
			"A17",
			"hand",
			"jianji",
			"sword",
			"thunder",
			"yongchang",
			"zone"
		],
		"bgms": [
			"000.mp3",
			"001Battle01.mp3",
			"009LastBoss01.mp3",
			"011LastBoss03.mp3",
			"012Theme01.mp3",
			"013Theme02.mp3",
			"014Theme03.mp3",
			"020Field03.mp3",
			"031Castle01.mp3",
			"037Dungeon03.mp3",
			"040Dungeon06.mp3",
			"045Positive03.mp3",
			"054Negative03.mp3",
			"055Negative04.mp3",
			"060Slow03.mp3",
			"061Slow04.mp3",
			"CastleinSky.mp3",
			"bgm.mp3",
			"guitar.mp3",
			"mine.ogg",
			"mtboss.mp3",
			"xxmt0F.mp3",
			"xxmtUdG.mp3"
		],
		"sounds": [
			"029-Door06.ogg",
			"045-push01.ogg",
			"086-Action01.ogg",
			"107-Heal03.ogg",
			"110-Heal06.ogg",
			"112-Heal08.ogg",
			"114-Remedy02.ogg",
			"133-Wind02.ogg",
			"160-Skill04.ogg",
			"163-Skill07.ogg",
			"164-Skill08.ogg",
			"172-Skill16.ogg",
			"176-Skill20.ogg",
			"180-Skill24.ogg",
			"attack.mp3",
			"bomb.mp3",
			"cancel.mp3",
			"centerFly.mp3",
			"confirm.mp3",
			"cursor.mp3",
			"door.mp3",
			"equip.mp3",
			"error.mp3",
			"floor.mp3",
			"gem.mp3",
			"icePickaxe.mp3",
			"item.mp3",
			"jump.mp3",
			"load.mp3",
			"open_ui.mp3",
			"pickaxe.mp3",
			"recovery.mp3",
			"save.mp3",
			"shop.mp3",
			"zone.mp3"
		],
		"fonts": [],
		"nameMap": {
			"确定": "confirm.mp3",
			"取消": "cancel.mp3",
			"操作失败": "error.mp3",
			"光标移动": "cursor.mp3",
			"打开界面": "open_ui.mp3",
			"读档": "load.mp3",
			"存档": "save.mp3",
			"获得道具": "item.mp3",
			"回血": "recovery.mp3",
			"炸弹": "bomb.mp3",
			"飞行器": "centerFly.mp3",
			"开关门": "door.mp3",
			"上下楼": "floor.mp3",
			"跳跃": "jump.mp3",
			"破墙镐": "pickaxe.mp3",
			"破冰镐": "icePickaxe.mp3",
			"宝石": "gem.mp3",
			"阻激夹域": "zone.mp3",
			"穿脱装备": "equip.mp3",
			"背景音乐": "bgm.mp3",
			"攻击": "attack.mp3",
			"背景图": "title.png",
			"商店": "shop.mp3",
			"领域": "zone"
		},
		"levelChoose": [
			{
				"title": "简单",
				"name": "Easy",
				"hard": 1,
				"color": [
					64,
					255,
					85,
					1
				],
				"action": [
					{
						"type": "setValue",
						"name": "status:hp",
						"value": "1000"
					},
					{
						"type": "setValue",
						"name": "status:atk",
						"value": "10"
					},
					{
						"type": "setValue",
						"name": "status:def",
						"value": "10"
					}
				]
			},
			{
				"title": "困难",
				"name": "Hard",
				"hard": 2,
				"color": [
					255,
					221,
					32,
					1
				],
				"action": [
					{
						"type": "setValue",
						"name": "status:hp",
						"value": "1000"
					},
					{
						"type": "setValue",
						"name": "status:atk",
						"value": "8"
					},
					{
						"type": "setValue",
						"name": "status:def",
						"value": "8"
					}
				]
			},
			{
				"title": "噩梦",
				"name": "Nightmare",
				"hard": 3,
				"color": [
					255,
					68,
					64,
					1
				],
				"action": [
					{
						"type": "setValue",
						"name": "flag:s190_NoCheating",
						"value": "1",
						"norefresh": true
					}
				]
			}
		],
		"equipName": [
			"武器",
			"盾牌",
			"头部",
			"衣服",
			"装饰品"
		],
		"startBgm": "011LastBoss03.mp3",
		"styles": {
			"startBackground": "project/images/title.png",
			"startVerticalBackground": "project/images/title.png",
			"startLogoStyle": "color: yellow",
			"startButtonsStyle": "background-color: #32369F; opacity: 0.85; color: #FFFFFF; border: #FFFFFF 2px solid; caret-color: #FFD700;",
			"statusLeftBackground": "url(project/materials/ground.png) repeat",
			"statusTopBackground": "url(project/materials/ground.png) repeat",
			"toolsBackground": "url(project/materials/ground.png) repeat",
			"floorChangingStyle": "background-color: black; color: white",
			"statusBarColor": [
				255,
				255,
				255,
				1
			],
			"borderColor": [
				204,
				204,
				204,
				1
			],
			"selectColor": [
				255,
				215,
				0,
				1
			],
			"font": "Verdana"
		},
		"splitImages": [
			{
				"name": "dragon.png",
				"width": 384,
				"height": 96,
				"prefix": "dragon_"
			},
			{
				"name": "dragonColor.png",
				"width": 384,
				"height": 96,
				"prefix": "dragonColor_"
			},
			{
				"name": "F.png",
				"width": 124,
				"height": 35,
				"prefix": "F_"
			},
			{
				"name": "047-Monster17.png",
				"width": 180,
				"height": 40,
				"prefix": "047-Monster17_"
			},
			{
				"name": "196-Support04.png",
				"width": 384,
				"height": 96,
				"prefix": "196-Support04_"
			},
			{
				"name": "slmhero.png",
				"width": 144,
				"height": 35,
				"prefix": "slmhero_"
			}
		]
	},
	"firstData": {
		"title": "魔塔-东窗事发",
		"name": "Dongchuangshifa",
		"version": "Ver 2.8.2",
		"floorId": "MT0",
		"hero": {
			"image": "brave.png",
			"animate": false,
			"name": "勇士",
			"lv": 1,
			"hpmax": 999999999,
			"hp": 1,
			"manamax": -1,
			"mana": 0,
			"atk": 1,
			"def": 1,
			"mdef": 0,
			"money": 0,
			"exp": 0,
			"equipment": [],
			"items": {
				"constants": {},
				"tools": {},
				"equips": {}
			},
			"loc": {
				"direction": "down",
				"x": 7,
				"y": 0
			},
			"flags": {},
			"followers": [],
			"steps": 0,
			"combo": 1,
			"weakBufferedAtk": 0,
			"weakBufferedDef": 0
		},
		"startCanvas": [
			{
				"type": "comment",
				"text": "在这里可以用事件来自定义绘制标题界面的背景图等"
			},
			{
				"type": "comment",
				"text": "也可以直接切换到其他楼层（比如某个开始剧情楼层）进行操作。"
			},
			{
				"type": "previewUI",
				"action": [
					{
						"type": "fillRect",
						"x": 0,
						"y": 0,
						"width": "core.__PIXELS__",
						"height": "core.__PIXELS__",
						"style": [
							82,
							82,
							82,
							1
						]
					},
					{
						"type": "setAttribute",
						"align": "center"
					},
					{
						"type": "fillBoldText",
						"x": "core.__PIXELS__ / 2",
						"y": 80,
						"style": [
							255,
							255,
							255,
							1
						],
						"strokeStyle": [
							0,
							0,
							0,
							1
						],
						"font": "bold 40px Verdana",
						"text": "${core.firstData.title}"
					}
				]
			},
			{
				"type": "setValue",
				"name": "flag:selection",
				"value": "0"
			},
			{
				"type": "comment",
				"text": "在右下方自绘一个对话框进行显示选择项"
			},
			{
				"type": "previewUI",
				"action": [
					{
						"type": "fillRect",
						"x": 230,
						"y": 250,
						"width": 150,
						"height": 142,
						"radius": 10,
						"style": [
							50,
							54,
							159,
							0.85
						]
					},
					{
						"type": "strokeRect",
						"x": 230,
						"y": 250,
						"width": 150,
						"height": 142,
						"radius": 10,
						"style": [
							255,
							255,
							255,
							1
						],
						"lineWidth": 2
					},
					{
						"type": "fillBoldText",
						"x": 305,
						"y": 290,
						"style": [
							255,
							255,
							255,
							1
						],
						"font": "bold 25px Verdana",
						"text": "开始游戏"
					},
					{
						"type": "fillBoldText",
						"x": 305,
						"y": 330,
						"font": "bold 25px Verdana",
						"text": "读取存档"
					},
					{
						"type": "fillBoldText",
						"x": 305,
						"y": 370,
						"font": "bold 25px Verdana",
						"text": "回放录像"
					}
				]
			},
			{
				"type": "while",
				"condition": "1",
				"data": [
					{
						"type": "drawSelector",
						"image": "winskin.png",
						"code": 1,
						"x": 245,
						"y": "261 + 40*flag:selection",
						"width": 120,
						"height": 40
					},
					{
						"type": "wait",
						"data": [
							{
								"case": "keyboard",
								"keycode": "13,32",
								"break": true,
								"action": [
									{
										"type": "switch",
										"condition": "flag:selection",
										"caseList": [
											{
												"case": "0",
												"action": [
													{
														"type": "comment",
														"text": "在“开始游戏”确定"
													},
													{
														"type": "break",
														"n": 1
													}
												]
											},
											{
												"case": "1",
												"action": [
													{
														"type": "comment",
														"text": "在“读取存档”确定"
													},
													{
														"type": "callLoad"
													}
												]
											},
											{
												"case": "2",
												"action": [
													{
														"type": "comment",
														"text": "在“回放录像”确定"
													},
													{
														"type": "if",
														"condition": "(!core.isReplaying())",
														"true": [
															{
																"type": "function",
																"function": "function(){\ncore.chooseReplayFile()\n}"
															}
														]
													}
												]
											}
										]
									}
								]
							},
							{
								"case": "keyboard",
								"keycode": "38",
								"break": true,
								"action": [
									{
										"type": "comment",
										"text": "光标上键"
									},
									{
										"type": "setValue",
										"name": "flag:selection",
										"value": "(flag:selection + 2) % 3"
									}
								]
							},
							{
								"case": "keyboard",
								"keycode": "40",
								"break": true,
								"action": [
									{
										"type": "comment",
										"text": "光标下键"
									},
									{
										"type": "setValue",
										"name": "flag:selection",
										"value": "(flag:selection + 1) % 3"
									}
								]
							},
							{
								"case": "mouse",
								"px": [
									245,
									365
								],
								"py": [
									261,
									300
								],
								"break": true,
								"action": [
									{
										"type": "comment",
										"text": "点击“开始游戏”"
									},
									{
										"type": "break",
										"n": 1
									}
								]
							},
							{
								"case": "mouse",
								"px": [
									245,
									365
								],
								"py": [
									301,
									340
								],
								"break": true,
								"action": [
									{
										"type": "comment",
										"text": "点击“读取存档”"
									},
									{
										"type": "callLoad"
									}
								]
							},
							{
								"case": "mouse",
								"px": [
									245,
									365
								],
								"py": [
									341,
									380
								],
								"break": true,
								"action": [
									{
										"type": "comment",
										"text": "点击“播放录像”"
									},
									{
										"type": "if",
										"condition": "(!core.isReplaying())",
										"true": [
											{
												"type": "function",
												"function": "function(){\ncore.chooseReplayFile()\n}"
											}
										]
									}
								]
							}
						]
					}
				]
			},
			{
				"type": "setValue",
				"name": "flag:selection",
				"value": "null"
			},
			{
				"type": "drawSelector",
				"code": 1
			},
			{
				"type": "clearMap"
			},
			{
				"type": "function",
				"function": "function(){\ncore.control.checkBgm()\n}"
			},
			{
				"type": "if",
				"condition": "(main.levelChoose.length == 0)",
				"true": [
					{
						"type": "comment",
						"text": "没有难度选择：直接开始游戏"
					}
				],
				"false": [
					{
						"type": "comment",
						"text": "难度选择：作为样例，这里只提供了一个显示选择项。"
					},
					{
						"type": "function",
						"function": "function(){\nvar choices = [];\nmain.levelChoose.forEach(function (one) {\n\tchoices.push({\n\t\t\"text\": one.title || '',\n\t\t\"action\": [\n\t\t\t{ \"type\": \"function\", \"function\": \"function() { core.status.hard = '\" + (one.name || '') + \"'; }\" }\n\t\t]\n\t});\n})\ncore.insertAction({ \"type\": \"choices\", \"choices\": choices });\n}"
					},
					{
						"type": "comment",
						"text": "你也可以仿照上面的样例进行自己创建等待用户操作来处理不同的难度分歧。\n如需自己处理，请设置 core.status.hard \n（例如，自定义js脚本：core.status.hard = 'Easy' ）"
					}
				]
			},
			{
				"type": "clearMap"
			},
			{
				"type": "comment",
				"text": "接下来会执行startText中的事件"
			},
			{
				"type": "comment",
				"text": "状态栏默认处于隐藏状态；可以使用“显示状态栏”事件进行显示。"
			}
		],
		"startText": [
			{
				"type": "comment",
				"text": "初始剧情"
			},
			{
				"type": "playBgm",
				"name": "CastleinSky.mp3"
			},
			{
				"type": "setText",
				"time": 50
			},
			"自从一个国度的勇士救出公主，打败魔王，\n使国家安宁后，\n怪物们火冒三丈。",
			"它们又重新建好了魔塔，\n抓来了国王，准备毁灭这个国家。\n国家派去的勇士都不见踪影。",
			"怪物越来越强大，\n国家越来越衰弱，\n怪物狞笑着，诅咒着一切。",
			"于是，国家想到了你，\n让你消灭怪物，救出国王，\n粉碎怪物的邪恶计划。",
			"一切只寄托在勇士身上，\n勇士为这个国家出动，\n我们的故事从这里开始......",
			{
				"type": "setText",
				"time": 0
			}
		],
		"shops": [
			{
				"id": "shop1",
				"text": "\t[贪婪之神,moneyShop]勇敢的武士啊, 给我${20+2*flag:shop1}金币就可以：",
				"textInList": "1F金币商店",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "生命+800",
						"need": "status:money>=20+2*flag:shop1",
						"action": [
							{
								"type": "comment",
								"text": "新版商店中需要手动扣减金币和增加访问次数"
							},
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "20+2*flag:shop1"
							},
							{
								"type": "setValue",
								"name": "flag:shop1",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setValue",
								"name": "status:hp",
								"operator": "+=",
								"value": "800"
							}
						]
					},
					{
						"text": "攻击+4",
						"need": "status:money>=20+2*flag:shop1",
						"action": [
							{
								"type": "comment",
								"text": "新版商店中需要手动扣减金币和增加访问次数"
							},
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "20+2*flag:shop1"
							},
							{
								"type": "setValue",
								"name": "flag:shop1",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setValue",
								"name": "status:atk",
								"operator": "+=",
								"value": "4"
							}
						]
					}
				]
			},
			{
				"id": "shop2",
				"text": "\t[贪婪之神,expShop]勇敢的武士啊, 给我一定经验就可以：",
				"textInList": "1F经验商店",
				"mustEnable": true,
				"disablePreview": true,
				"choices": [
					{
						"text": "等级+1（100经验）",
						"need": "status:exp>=100",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100"
							},
							{
								"type": "setValue",
								"name": "status:lv",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setValue",
								"name": "status:hp",
								"operator": "+=",
								"value": "1000"
							}
						]
					}
				]
			},
			{
				"id": "Fm81DyingShop",
				"textInList": "-81F解除死亡状态@道具",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MTn81"
				]
			},
			{
				"id": "itemShop",
				"item": true,
				"textInList": "-50F道具买卖商店@道具",
				"use": "money",
				"mustEnable": true,
				"choices": [
					{
						"id": "redPotion",
						"money": "1000"
					},
					{
						"id": "bluePotion",
						"money": "2000"
					},
					{
						"id": "yellowPotion",
						"money": "4000"
					},
					{
						"id": "greenPotion",
						"money": "6000"
					},
					{
						"id": "redGem",
						"money": "1000"
					},
					{
						"id": "blueGem",
						"money": "1000"
					},
					{
						"id": "greenGem",
						"money": "1000"
					},
					{
						"id": "yellowGem",
						"money": "6000"
					},
					{
						"id": "I395",
						"money": "8000"
					}
				]
			},
			{
				"id": "keyShop",
				"textInList": "回收钥匙商店",
				"mustEnable": true,
				"commonEvent": "回收钥匙商店"
			},
			{
				"id": "CastleRatioShop",
				"textInList": "魔塔城堡比例商店@金币",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MTCastle4"
				]
			},
			{
				"id": "Fm34ExpShop",
				"textInList": "-34F经验商店@经验",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MTn34"
				]
			},
			{
				"id": "Fm32GoldShop",
				"textInList": "-32F金币商店@金币",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MTn32"
				]
			},
			{
				"id": "Fm18ExpShop",
				"text": "\t[商人,trader]本商店需当面购买！\n无限收购钥匙！",
				"textInList": "-18F钥匙收购商人@道具",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "前往-18F(上楼梯)",
						"need": "core.hasVisitedFloor(\"MTn18\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn18",
								"stair": "upFloor",
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "前往-18F(下楼梯)",
						"need": "core.hasVisitedFloor(\"MTn19\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn18",
								"stair": "downFloor",
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					}
				]
			},
			{
				"id": "Fm17ExpShop",
				"text": "\t[老人,man]本商店需当面购买！\n-17F所需经验: ${flag:Fm17ShopVisited?\"700\":\"???\"}\n-27F所需经验: ${flag:Fm27ShopVisited?\"600\":\"???\"}",
				"textInList": "-17/-27F经验老人@经验",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "前往-17F(上楼梯)",
						"need": "core.hasVisitedFloor(\"MTn17\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"condition": "flag:Fm17ShopVisited",
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn17",
								"loc": [
									13,
									13
								],
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "前往-17F(下楼梯)",
						"need": "core.hasVisitedFloor(\"MTn18\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"condition": "flag:Fm17ShopVisited",
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn17",
								"loc": [
									1,
									8
								],
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "前往-27F(上楼梯)",
						"need": "core.hasVisitedFloor(\"MTn27\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"condition": "flag:Fm27ShopVisited",
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn27",
								"loc": [
									1,
									1
								],
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "前往-27F(下楼梯)",
						"need": "core.hasVisitedFloor(\"MTn28\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"condition": "flag:Fm27ShopVisited",
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MTn27",
								"loc": [
									1,
									13
								],
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					}
				]
			},
			{
				"id": "Fm3m4GoldShop",
				"textInList": "-3/-4/-5F金币商店@金币",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MTm3m4"
				]
			},
			{
				"id": "F0KeyShop",
				"textInList": "0F钥匙商店@道具",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MT0"
				]
			},
			{
				"id": "Expshop7F",
				"text": "\t[经验商店,expShop]花${100+45*flag:Expshop7F}经验就可以：",
				"textInList": "7F经验商店@经验",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "1000生命",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "yellowPotion",
						"condition": "flag:s61_MansChat!==1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:hp",
								"operator": "+=",
								"value": "1000"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "2攻击",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "redGem",
						"condition": "flag:s61_MansChat!==1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:atk",
								"operator": "+=",
								"value": "2"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "2防御",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "blueGem",
						"condition": "flag:s61_MansChat!==1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:def",
								"operator": "+=",
								"value": "2"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "2000生命",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "yellowPotion",
						"condition": "flag:s61_MansChat===1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:hp",
								"operator": "+=",
								"value": "2000"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "4攻击",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "redGem",
						"condition": "flag:s61_MansChat===1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:atk",
								"operator": "+=",
								"value": "4"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "4防御",
						"need": "status:exp>=100+45*flag:Expshop7F",
						"icon": "blueGem",
						"condition": "flag:s61_MansChat===1",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "100+45*flag:Expshop7F"
							},
							{
								"type": "setValue",
								"name": "status:def",
								"operator": "+=",
								"value": "4"
							},
							{
								"type": "setValue",
								"name": "flag:Expshop7F",
								"operator": "+=",
								"value": "1"
							}
						]
					}
				]
			},
			{
				"id": "GoldShop9F",
				"text": "\t[奸商,trader]我是奸商！100魔塔币你可以(剩余购买次数：${8-flag:GoldShop9F})",
				"textInList": "9F奸商@金币",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "2攻击",
						"need": "status:money>=100",
						"icon": "redGem",
						"color": [
							255,
							128,
							128,
							1
						],
						"condition": "flag:GoldShop9F < 8",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "100"
							},
							{
								"type": "setValue",
								"name": "status:atk",
								"operator": "+=",
								"value": "2"
							},
							{
								"type": "setValue",
								"name": "flag:GoldShop9F",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "2防御",
						"need": "status:money>=100",
						"icon": "blueGem",
						"color": [
							128,
							255,
							255,
							1
						],
						"condition": "flag:GoldShop9F < 8",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "100"
							},
							{
								"type": "setValue",
								"name": "status:def",
								"operator": "+=",
								"value": "2"
							},
							{
								"type": "setValue",
								"name": "flag:GoldShop9F",
								"operator": "+=",
								"value": "1"
							}
						]
					}
				]
			},
			{
				"id": "GoldShop9F2",
				"text": "\t[奸商的朋友,trader]我是奸商的朋友！85魔塔币，你可解除一次购买。\n（当前剩余可购买次数：${8-flag:GoldShop9F}）",
				"textInList": "9F奸商朋友@金币",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "支付85金币",
						"need": "status:money>=85",
						"color": [
							255,
							255,
							255,
							1
						],
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "85"
							},
							{
								"type": "setValue",
								"name": "flag:GoldShop9F",
								"operator": "-=",
								"value": "1"
							}
						]
					}
				]
			},
			{
				"id": "F12KeyShop",
				"textInList": "12F钥匙商人@道具",
				"mustEnable": true,
				"commonEvent": "F12KeyShop"
			},
			{
				"id": "F15EnhanceShop",
				"text": "\t[强化商店,N396]${flag:F15EnhanceShop===0 ? \"600点经验你可以提升红药瓶的功效\" : \nflag:F15EnhanceShop===1 ? \"3000点塔币你可以提升蓝药瓶的功效\" : \nflag:F15EnhanceShop===2 ? \"4500点塔币以及400点经验你可以提升黄药瓶的功效，不过要有钱\" : \nflag:F15EnhanceShop===3 ? \"10000点金钱提升红、蓝宝石效果\" : \"本商店已过期\"}",
				"textInList": "15F强化商店@道具",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "变为+150点生命",
						"need": "status:exp>=600",
						"icon": "redPotion",
						"condition": "flag:F15EnhanceShop===0",
						"action": [
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "600"
							},
							{
								"type": "setValue",
								"name": "flag:F15EnhanceShop",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setGlobalValue",
								"name": "redPotion",
								"value": 150
							}
						]
					},
					{
						"text": "变为+400点生命",
						"need": "status:money>=3000",
						"icon": "bluePotion",
						"condition": "flag:F15EnhanceShop===1",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "3000"
							},
							{
								"type": "setValue",
								"name": "flag:F15EnhanceShop",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setGlobalValue",
								"name": "bluePotion",
								"value": 400
							}
						]
					},
					{
						"text": "变为+900点生命",
						"need": "status:money>=4500 && status:exp >= 400",
						"icon": "yellowPotion",
						"condition": "flag:F15EnhanceShop===2",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "4500"
							},
							{
								"type": "setValue",
								"name": "status:exp",
								"operator": "-=",
								"value": "400"
							},
							{
								"type": "setValue",
								"name": "flag:F15EnhanceShop",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setGlobalValue",
								"name": "yellowPotion",
								"value": 900
							}
						]
					},
					{
						"text": "红宝石=2",
						"need": "status:money>=10000",
						"icon": "redGem",
						"condition": "flag:F15EnhanceShop===3",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "10000"
							},
							{
								"type": "setValue",
								"name": "flag:F15EnhanceShop",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setGlobalValue",
								"name": "redGem",
								"value": 2
							},
							"\t[强化商店,N396]本商店不再提供服务。",
							{
								"type": "disableShop",
								"id": "F15EnhanceShop"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "蓝宝石=2",
						"need": "status:money>=10000",
						"icon": "blueGem",
						"condition": "flag:F15EnhanceShop===3",
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "10000"
							},
							{
								"type": "setValue",
								"name": "flag:F15EnhanceShop",
								"operator": "+=",
								"value": "1"
							},
							{
								"type": "setGlobalValue",
								"name": "blueGem",
								"value": 2
							},
							"\t[强化商店,N396]本商店不再提供服务。",
							{
								"type": "disableShop",
								"id": "F15EnhanceShop"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					}
				]
			},
			{
				"id": "F22WineShop",
				"text": "\t[商人,youngMan]我是商人，请挑选您要购买的物品",
				"textInList": "22/-27F药水商店@道具",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "解毒药水(500塔币)",
						"need": "status:money>=500",
						"icon": "poisonWine",
						"color": [
							255,
							255,
							255,
							1
						],
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "500"
							},
							{
								"type": "setValue",
								"name": "item:poisonWine",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "解衰药水(400塔币)",
						"need": "status:money>=400",
						"icon": "weakWine",
						"color": [
							255,
							255,
							255,
							1
						],
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "400"
							},
							{
								"type": "setValue",
								"name": "item:weakWine",
								"operator": "+=",
								"value": "1"
							}
						]
					},
					{
						"text": "解咒药水(400塔币)",
						"need": "status:money>=400",
						"icon": "curseWine",
						"color": [
							255,
							255,
							255,
							1
						],
						"action": [
							{
								"type": "setValue",
								"name": "status:money",
								"operator": "-=",
								"value": "400"
							},
							{
								"type": "setValue",
								"name": "item:curseWine",
								"operator": "+=",
								"value": "1"
							}
						]
					}
				]
			},
			{
				"id": "F25IncrementalShop",
				"text": "\t[金币商店,N417](本商店需当面购买)\n当前价格${20+flag:F25IncrementalShop}，每次购买增加1",
				"textInList": "25F金币商店@金币",
				"mustEnable": true,
				"disablePreview": false,
				"choices": [
					{
						"text": "前往25F(下楼梯)",
						"need": "core.hasVisitedFloor(\"MT25\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MT25",
								"stair": "downFloor",
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					},
					{
						"text": "前往25F(上楼梯)",
						"need": "core.hasVisitedFloor(\"MT26\")",
						"icon": "fly",
						"color": [
							255,
							215,
							0,
							1
						],
						"action": [
							{
								"type": "stopSound"
							},
							{
								"type": "changeFloor",
								"floorId": "MT25",
								"stair": "upFloor",
								"direction": "down"
							},
							{
								"type": "break",
								"n": 1
							}
						]
					}
				]
			},
			{
				"id": "F29SuperShop",
				"textInList": "29F超级商店@经验",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MT29"
				]
			},
			{
				"id": "F35TSWShop",
				"textInList": "35/48/59F商店@金币",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"TSWShop",
					-1
				]
			},
			{
				"id": "F49GoldShop",
				"textInList": "49F金币商人@金币",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MT49"
				]
			},
			{
				"id": "F59ExpShop",
				"textInList": "59F经验商人@经验",
				"mustEnable": true,
				"commonEvent": "OtherShops",
				"args": [
					"MT59"
				]
			}
		],
		"levelUp": [
			{
				"need": "0",
				"title": "",
				"action": [
					{
						"type": "comment",
						"text": "此处是初始等级，只需填写称号"
					}
				]
			},
			{
				"need": "20",
				"title": "",
				"action": [
					{
						"type": "setValue",
						"name": "status:atk",
						"operator": "+=",
						"value": "10"
					},
					{
						"type": "setValue",
						"name": "status:def",
						"operator": "+=",
						"value": "10"
					}
				]
			},
			{
				"need": "40",
				"title": "",
				"action": [
					{
						"type": "tip",
						"text": "恭喜升级"
					}
				]
			}
		]
	},
	"values": {
		"lavaDamage": 100,
		"poisonDamage": 10,
		"weakValue": 0.25,
		"redGem": 1,
		"blueGem": 1,
		"greenGem": 5,
		"redPotion": 75,
		"bluePotion": 200,
		"yellowPotion": 500,
		"greenPotion": 1000,
		"breakArmor": 0.9,
		"counterAttack": 0.1,
		"purify": 3,
		"hatred": 2,
		"animateSpeed": 300,
		"moveSpeed": 100,
		"statusCanvasRowsOnMobile": 3,
		"floorChangeTime": 500,
		"isPotionItemized": false,
		"isGemItemized": null,
		"isMAGValid": null,
		"firstAttack": 1,
		"vampireGlobalRate": 0.34,
		"vampireGlobalAdd": false,
		"yellowGem": 2,
		"levelupPoint": 0,
		"godThief": 0.2,
		"expThief": 0.8,
		"degradeAtk": 2,
		"degradeDef": 3
	},
	"flags": {
		"statusBarItems": [
			"enableFloor",
			"enableLv",
			"enableHP",
			"enableAtk",
			"enableDef",
			"enableMoney",
			"enableExp",
			"enableKeys",
			"enableDebuff"
		],
		"autoScale": true,
		"extendToolbar": false,
		"flyNearStair": true,
		"flyRecordPosition": false,
		"itemFirstText": true,
		"equipboxButton": false,
		"enableAddPoint": false,
		"enableNegativeDamage": false,
		"betweenAttackMax": false,
		"useLoop": true,
		"startUsingCanvas": false,
		"statusCanvas": true,
		"enableEnemyPoint": true,
		"enableGentleClick": true,
		"ignoreChangeFloor": true,
		"canGoDeadZone": false,
		"enableMoveDirectly": true,
		"enableRouteFolding": true,
		"disableShopOnDamage": false,
		"blurFg": false,
		"hideLeftStatusBar": null
	}
}